<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="favicon.png" link />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/handsontable@latest/dist/handsontable.full.min.css"
    />
    <link rel="stylesheet" type="text/css" href="https://handsontable.com/static/css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/handsontable@latest/dist/handsontable.full.min.js"></script>

    <title>Coinbase CSV Converter</title>
  </head>
  <body>
    <div id="canEdit" style="color: rgb(122, 6, 6); margin-top: 40px; margin-left: 60px">
      <strong>**** You can EDIT the table below before exporting. ****</strong>
      <br />
      Edit a cell by double-clicking in it or remove a row by clicking the &#x274c;.
    </div>
    <div id="div1" style="margin-left: 60px">
      <h3 id="myTitle">Convert Coinbase CSV File to TurboTax TXF Format or a Gain-Loss CSV</h3>
      <button id="button1" onclick="onButtonClicked()">Select CSV File From Coinbase</button>
      <div id="hot"></div>
    </div>

    <br />
    <pre id="file-content"></pre>
    <h3></h3>
    <div id="div2" style="margin-left: 60px">
      <p>
        This conversion uses the Coinbase CSV generated by selecting <strong>"Reports" </strong>and
        then selecting <strong>"Transaction History"</strong> and
        <strong>"Generate Reports"</strong>. Do not try to use a CSV generated in the "Taxes"
        section because the format won't work with this webpage. This conversion requires the
        Coinbase csv header line to be exactly this:
        <br />
        <br />
        <strong style="font-size: small">
          Timestamp,Transaction Type,Asset,Quantity Transacted,Spot Price Currency,Spot Price at
          Transaction,Subtotal,Total (inclusive of fees),Fees,Notes
        </strong>
        <br />
        <br />
      </p>
    </div>
    <div style="margin-left: 100px; width: 900px" id="content">
      <ul style="list-style: disc">
        <li style="list-style-type: disc">
          <strong>You will be able to edit the spreadsheet in a table before saving!</strong>
        </li>
        <li style="list-style-type: disc">Conversion uses only the FIFO method (for now)</li>
        <li style="list-style-type: disc">Send actions are treated as Sell actions</li>
        <li style="list-style-type: disc">
          Receive actions are treated as Buy actions with current spot at Receive time
        </li>
        <li style="list-style-type: disc">
          Convert actions are treated as a Sell followed by a Buy
        </li>
        <li style="list-style-type: disc">
          A Sell action can generate multiple sales events in the output if more than one Buy is
          used. For example if you Buy 100 shares and then Buy 50 shares at a different price, when
          you Sell 150 shares, it will generate two proceed sales, one from each Buy transaction.
        </li>
        <li style="list-style-type: disc">
          The txf file created can be imported into TurboTax and I have tested this now with
          TurboTax 2021 and it is working. In TurboTax, select File->Import->From Accounting
          Software. And then select "Other Financial Software (TXF File)". Browse to the TXF file
          created and import it. TurboTax will use the data in the TXF file to create Form 8949 with
          the Coinbase sales data in it.
        </li>
        <li style="list-style-type: disc">
          If you create and download a CSV from Coinbase, be sure you include all transactions that
          will be needed to compute sales information, even if they are from a different year. You
          can filter for a specific year after the proceeds table is displayed.
        </li>
        <li style="list-style-type: disc">
          Do NOT ASSUME that all the output proceeds are correct! Double check it.
        </li>
      </ul>
    </div>

    <script src="index.js"></script>
  </body>
</html>
